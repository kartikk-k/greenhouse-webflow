"use strict";(()=>{var A=async()=>{let D=document.createElement("hidden");D.style.display="hidden";let l=1,$=1,c=[],f=[],r=[],u=[],d=[{name:"department",options:["All Departments"]},{name:"location",options:["All Locations"]}],q=["department","title","location","content","open"],o=document.querySelector('[tc-greenhouse-element="main"]'),m=o?.querySelector('[tc-greenhouse-element="list"]'),L=m?.querySelector('[tc-greenhouse-element="list-item"]');if(!o||!m||!L)return;let y=o?.querySelector('[tc-greenhouse-element="error"]');y?.remove();let v=o?.querySelector('[tc-greenhouse-element="empty-state"]');v?.remove();let S=o?.querySelectorAll('[tc-greenhouse-element="search"]')[0];S&&S.addEventListener("input",e=>B(e.target.value));let b=o.getAttribute("tc-greenhouse-paginate")==="true";b?x():N();let G=!!o.querySelector('[tc-greenhouse-content-search="true"]'),i=Number(o.getAttribute("tc-greenhouse-results-per-page"))||5,g=o.querySelector('[tc-greenhouse-element="loader"]'),T=o.parentElement,H=o.style.display;o.style.display="none",g&&T.appendChild(g);let C=await V();if(g&&T.removeChild(g),C instanceof Error)return j(C.message);o.style.display=H,k();function j(e){o.innerHTML="",e==="No jobs found"?v&&o.appendChild(v):y&&o.appendChild(y),o.style.display=H}function E(){if(!L)return;P();let e=[];u.forEach(t=>{let a=L.cloneNode(!0);q.forEach(s=>{a.querySelectorAll(`[tc-greenhouse-element="${s}"]`).forEach(n=>{s==="location"?n.innerHTML=t.location.name:s==="department"?n.innerHTML=t.departments[0].name:s==="open"?n.setAttribute("href",t.absolute_url||"#"):s==="content"||(n.innerHTML=t[s])})}),e.push(a)}),m.innerHTML="",m?.append(...e)}function M(){r&&(b?u=r.slice((l-1)*i,l*i):u.length?u=r.slice(0,i*l):u=r.slice((l-1)*i,l*i),E())}function B(e){c&&(e.trim()?(f.length||(f=r),r=f.filter(t=>t.title.trim().toLowerCase().includes(e.trim().toLowerCase()))):(r=f,f=[]),M())}function N(){o?.querySelector('[tc-greenhouse-element="load-more"]')?.addEventListener("click",_)}function _(){if(l<Math.ceil(r.length/i)){l++;let e=r.slice((l-1)*i,l*i);u=u.concat(e),E()}}function x(){let e=document.getElementsByClassName("w-pagination-previous")[0],t=document.getElementsByClassName("w-pagination-previous")[0];e?.addEventListener("click",I),t?.addEventListener("click",F)}function P(){if(b){let e=document.getElementsByClassName("w-pagination-next")[0],t=document.getElementsByClassName("w-pagination-previous")[0];if(!e||!t)return;l===1?(t.classList.add("hidden"),e.classList.remove("hidden")):l===Math.ceil(r.length/i)?(e.classList.add("hidden"),t.classList.remove("hidden")):r?.length<=i?(e.classList.add("hidden"),t.classList.add("hidden")):(e.classList.remove("hidden"),t.classList.remove("hidden"))}else{let e=o?.querySelector('[tc-greenhouse-element="load-more"]');if(!e)return;l===Math.ceil(r.length/i)||r?.length<=i?e.classList.add("hidden"):e.classList.remove("hidden")}}function F(){l>1&&(l--,u=r.slice((l-1)*i,l*i),E()),m?.scrollIntoView({behavior:"smooth"})}function I(){l<Math.ceil(r.length/i)&&(l++,u=r.slice((l-1)*i,l*i),E()),m?.scrollIntoView({behavior:"smooth"})}function k(){let e=d.map(a=>a.name);if(!c)return;c.forEach(a=>{let s=d[0].options.map(w=>w),n=d[1].options.map(w=>w),h=a.departments[0].name,p=a.location.name;s.includes(h)||d[0].options.push(a.departments[0].name),n.includes(p)||d[1].options.push(a.location.name)});let t=o?.querySelectorAll("[tc-greenhouse-filter]");t?.length&&t.forEach(a=>{let s=a.getAttribute("tc-greenhouse-filter");if(e.includes(s)){let n=d.find(h=>h.name===s)?.options;n?.length&&n.forEach(h=>{let p=document.createElement("option");p.value=h,p.textContent=h,a.appendChild(p)})}a.onchange=n=>{O(n)}})}function O(e){if(!c)return;let t=document.querySelector('[tc-greenhouse-filter="location"]'),a=document.querySelector('[tc-greenhouse-filter="department"]'),s=[];t?.value&&a?.value&&(t.value==="All Locations"&&a.value==="All Departments"?s=c:t.value==="All Locations"?c.forEach(n=>{n.departments[0].name===a.value&&s.push(n)}):a.value==="All Departments"?c.forEach(n=>{n.location.name===t.value&&s.push(n)}):c.forEach(n=>{n.departments[0].name===a.value&&n.location.name===t.value&&s.push(n)})),r=s,l=1,M()}async function V(){await new Promise(t=>setTimeout(t,2e3));let e=[];try{let t=o.getAttribute("tc-greenhouse-board-id");if(!t)throw new Error("Board id not found");let a=o.getAttribute("tc-greenhouse-content")==="true",s=await fetch(`https://boards-api.greenhouse.io/v1/boards/${t}/jobs?content=${a}`,{method:"GET"}).then(n=>n.json());if(!s.jobs)throw new Error("No jobs found");e=s.jobs}catch(t){return t}c=e,r=e,M()}};window.Webflow||(window.Webflow=[]);window.onload=()=>{A()};})();
