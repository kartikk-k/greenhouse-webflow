"use strict";(()=>{var D=async()=>{let A=document.createElement("hidden");A.style.display="hidden";let o=1,$=1,u=[],f=[],a=[],c=[],d=[{name:"department",options:["All Departments"]},{name:"location",options:["All Locations"]}],q=["department","title","location","content","open"],l=document.querySelector('[tc-greenhouse-element="main"]'),m=l?.querySelector('[tc-greenhouse-element="list"]'),y=m?.querySelector('[tc-greenhouse-element="list-item"]');if(!l||!m||!y)return;let v=l?.querySelector('[tc-greenhouse-element="error"]');v?.remove();let E=l?.querySelector('[tc-greenhouse-element="empty-state"]');E?.remove();let S=l?.querySelectorAll('[tc-greenhouse-element="search"]')[0];S&&S.addEventListener("input",e=>B(e.target.value));let b=l.getAttribute("tc-greenhouse-paginate")==="true";b?N():_();let G=!!l.querySelector('[tc-greenhouse-content-search="true"]'),i=Number(l.getAttribute("tc-greenhouse-results-per-page"))||5,p=l.querySelector('[tc-greenhouse-element="loader"]'),T=l.parentElement,H=l.style.display;l.style.display="none",p&&T.appendChild(p),console.log(p);let C=await V();if(p&&T.removeChild(p),C instanceof Error)return j(C.message);l.style.display=H,k();function j(e){l.innerHTML="",e==="No jobs found"?(E&&l.appendChild(E),console.log(E)):v&&l.appendChild(v),l.style.display=H}function L(){if(!y)return;P();let e=[];c.forEach(t=>{let s=y.cloneNode(!0);q.forEach(r=>{s.querySelectorAll(`[tc-greenhouse-element="${r}"]`).forEach(n=>{r==="location"?n.innerHTML=t.location.name:r==="department"?n.innerHTML=t.departments[0].name:r==="open"?n.setAttribute("href",t.absolute_url||"#"):r==="content"||(n.innerHTML=t[r])})}),e.push(s)}),m.innerHTML="",m?.append(...e)}function M(){a&&(console.log("current_page",o),b?(c=a.slice((o-1)*i,o*i),console.log("paginatedData",c)):c.length?c=a.slice(0,i*o):c=a.slice((o-1)*i,o*i),L())}function B(e){u&&(console.log(e.trim()),e.trim()?(f.length||(f=a),a=f.filter(t=>t.title.trim().toLowerCase().includes(e.trim().toLowerCase()))):(a=f,f=[]),M())}function _(){let e=l?.querySelector('[tc-greenhouse-element="load-more"]');console.log(e),e?.addEventListener("click",x)}function x(){if(o<Math.ceil(a.length/i)){o++;let e=a.slice((o-1)*i,o*i);c=c.concat(e),L()}}function N(){let e=document.getElementsByClassName("wf-next")[0],t=document.getElementsByClassName("wf-previous")[0];e?.addEventListener("click",I),t?.addEventListener("click",F)}function P(){if(b){let e=document.getElementsByClassName("wf-next")[0],t=document.getElementsByClassName("wf-previous")[0];if(!e||!t)return;o===1?(t.classList.add("hidden"),e.classList.remove("hidden")):o===Math.ceil(a.length/i)?(e.classList.add("hidden"),t.classList.remove("hidden")):a?.length<=i?(e.classList.add("hidden"),t.classList.add("hidden")):(e.classList.remove("hidden"),t.classList.remove("hidden"))}else{let e=l?.querySelector('[tc-greenhouse-element="load-more"]');if(!e)return;o===Math.ceil(a.length/i)||a?.length<=i?e.classList.add("hidden"):e.classList.remove("hidden")}}function F(){o>1&&(o--,c=a.slice((o-1)*i,o*i),L()),m?.scrollIntoView({behavior:"smooth"})}function I(){o<Math.ceil(a.length/i)&&(o++,c=a.slice((o-1)*i,o*i),L()),m?.scrollIntoView({behavior:"smooth"})}function k(){let e=d.map(s=>s.name);if(!u)return;u.forEach(s=>{let r=d[0].options.map(w=>w),n=d[1].options.map(w=>w),h=s.departments[0].name,g=s.location.name;r.includes(h)||d[0].options.push(s.departments[0].name),n.includes(g)||d[1].options.push(s.location.name)});let t=l?.querySelectorAll("[tc-greenhouse-filter]");console.log(t,"filterElements"),t?.length&&t.forEach(s=>{let r=s.getAttribute("tc-greenhouse-filter");if(e.includes(r)){let n=d.find(h=>h.name===r)?.options;n?.length&&n.forEach(h=>{let g=document.createElement("option");g.value=h,g.textContent=h,s.appendChild(g)})}s.onchange=n=>{O(n)}})}function O(e){if(!u)return;console.log(e.target);let t=document.querySelector('[tc-greenhouse-filter="location"]'),s=document.querySelector('[tc-greenhouse-filter="department"]'),r=[];t?.value&&s?.value&&(t.value==="All Locations"&&s.value==="All Departments"?r=u:t.value==="All Locations"?u.forEach(n=>{n.departments[0].name===s.value&&r.push(n)}):s.value==="All Departments"?u.forEach(n=>{n.location.name===t.value&&r.push(n)}):u.forEach(n=>{n.departments[0].name===s.value&&n.location.name===t.value&&r.push(n)})),console.log(r.length),a=r,o=1,M()}async function V(){await new Promise(t=>setTimeout(t,2e3));let e=[];try{let t=l.getAttribute("tc-greenhouse-board-id");if(!t)throw new Error("Board id not found");let s=l.getAttribute("tc-greenhouse-content")==="true",r=await fetch(`https://boards-api.greenhouse.io/v1/boards/${t}/jobs?content=${s}`,{method:"GET"}).then(n=>n.json());if(!r.jobs)throw new Error("No jobs found");e=r.jobs}catch(t){return t}u=e,a=e,M()}};window.Webflow||(window.Webflow=[]);window.onload=()=>{D()};})();
