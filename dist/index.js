"use strict";(()=>{var A=async()=>{let l=1,V=1,c=[],f=[],s=[],u=[],d=[{name:"department",options:["All Departments"]},{name:"location",options:["All Locations"]}],D=["department","title","location","content","open"],o=document.querySelector('[tc-greenhouse-element="main"]'),m=o?.querySelector('[tc-greenhouse-element="list"]'),E=m?.querySelector('[tc-greenhouse-element="list-item"]');if(!o||!m||!E)return;let L=o?.querySelector('[tc-greenhouse-element="error"]');L?.remove();let b=o?.querySelector('[tc-greenhouse-element="empty-state"]');b?.remove();let T=o?.querySelectorAll('[tc-greenhouse-element="search"]')[0];T&&T.addEventListener("input",e=>j(e.target.value));let v=o.getAttribute("tc-greenhouse-paginate")==="true";v?N():B();let W=!!o.querySelector('[tc-greenhouse-content-search="true"]'),i=Number(o.getAttribute("tc-greenhouse-results-per-page"))||5,g=o.querySelector('[tc-greenhouse-element="loader"]'),S=o.parentElement,H=o.style.display;o.style.display="none",g&&S.appendChild(g);let C=await O();if(g&&S.removeChild(g),C instanceof Error)return q(C.message);o.style.display=H,F();function q(e){o.innerHTML="",e==="No jobs found"?b&&o.appendChild(b):L&&o.appendChild(L),o.style.display=H}function y(){if(!E)return;_();let e=[];u.forEach(t=>{let a=E.cloneNode(!0);D.forEach(r=>{a.querySelectorAll(`[tc-greenhouse-element="${r}"]`).forEach(n=>{r==="location"?n.innerHTML=t.location.name:r==="department"?(console.log(t.departments),n.innerHTML=t.departments[0]?.name):r==="open"?n.setAttribute("href",t.absolute_url||"#"):r==="content"||(n.innerHTML=t[r])})}),e.push(a)}),m.innerHTML="",m?.append(...e)}function M(){s&&(v?u=s.slice((l-1)*i,l*i):u.length?u=s.slice(0,i*l):u=s.slice((l-1)*i,l*i),y())}function j(e){c&&(e.trim()?(f.length||(f=s),s=f.filter(t=>t.title.trim().toLowerCase().includes(e.trim().toLowerCase()))):(s=f,f=[]),M())}function B(){o?.querySelector('[tc-greenhouse-element="load-more"]')?.addEventListener("click",x)}function x(){if(l<Math.ceil(s.length/i)){l++;let e=s.slice((l-1)*i,l*i);u=u.concat(e),y()}}function N(){let e=document.getElementsByClassName("w-pagination-next")[0],t=document.getElementsByClassName("w-pagination-previous")[0];e?.addEventListener("click",P),t?.addEventListener("click",k)}function _(){if(v){let e=document.getElementsByClassName("w-pagination-next")[0],t=document.getElementsByClassName("w-pagination-previous")[0];if(!e||!t)return;l===1?(t.style.display="hidden",e.style.display="inline-block"):l===Math.ceil(s.length/i)?(e.style.display="hidden",t.style.display="inline-block"):s?.length<=i?(e.style.display="hidden",t.style.display="hidden"):(e.style.display="inline-block",t.style.display="inline-block")}else{let e=o?.querySelector('[tc-greenhouse-element="load-more"]');if(!e)return;l===Math.ceil(s.length/i)||s?.length<=i?e.style.display="none":e.style.display="inline-block"}}function k(){l>1&&(l--,u=s.slice((l-1)*i,l*i),y()),m?.scrollIntoView({behavior:"smooth"})}function P(){l<Math.ceil(s.length/i)&&(l++,u=s.slice((l-1)*i,l*i),y()),m?.scrollIntoView({behavior:"smooth"})}function F(){let e=d.map(a=>a.name);if(!c)return;c.forEach(a=>{let r=d[0].options.map(w=>w),n=d[1].options.map(w=>w),p=a.departments[0].name,h=a.location.name;r.includes(p)||d[0].options.push(a.departments[0].name),n.includes(h)||d[1].options.push(a.location.name)});let t=o?.querySelectorAll("[tc-greenhouse-filter]");t?.length&&t.forEach(a=>{let r=a.getAttribute("tc-greenhouse-filter");if(e.includes(r)){let n=d.find(p=>p.name===r)?.options;n?.length&&n.forEach(p=>{let h=document.createElement("option");h.value=p,h.textContent=p,a.appendChild(h)})}a.onchange=n=>{I(n)}})}function I(e){if(!c)return;let t=document.querySelector('[tc-greenhouse-filter="location"]'),a=document.querySelector('[tc-greenhouse-filter="department"]'),r=[];t?.value&&a?.value&&(t.value==="All Locations"&&a.value==="All Departments"?r=c:t.value==="All Locations"?c.forEach(n=>{n.departments[0].name===a.value&&r.push(n)}):a.value==="All Departments"?c.forEach(n=>{n.location.name===t.value&&r.push(n)}):c.forEach(n=>{n.departments[0].name===a.value&&n.location.name===t.value&&r.push(n)})),s=r,l=1,M()}async function O(){await new Promise(t=>setTimeout(t,2e3));let e=[];try{let t=o.getAttribute("tc-greenhouse-board-id");if(!t)throw new Error("Board id not found");let a=o.getAttribute("tc-greenhouse-content")==="true",r=await fetch(`https://boards-api.greenhouse.io/v1/boards/${t}/jobs?content=${!0}`,{method:"GET"}).then(n=>n.json());if(!r.jobs)throw new Error("No jobs found");e=r.jobs}catch(t){return t}c=e,s=e,M()}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{A()});})();
