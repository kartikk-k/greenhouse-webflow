"use strict";(()=>{var A=async()=>{let o=1,c=[],f=[],s=[],u=[],d=[{name:"department",options:["All Departments"]},{name:"location",options:["All Locations"]}],D=["department","title","location","content","link"],l=document.querySelector('[tc-greenhouse-element="main"]'),m=l?.querySelector('[tc-greenhouse-element="list"]'),E=m?.querySelector('[tc-greenhouse-element="list-item"]');if(!l||!m||!E)return;let L=l?.querySelector('[tc-greenhouse-element="error"]');L?.remove();let b=l?.querySelector('[tc-greenhouse-element="empty-state"]');b?.remove();let T=l?.querySelectorAll('[tc-greenhouse-element="search"]')[0];T&&T.addEventListener("input",e=>q(e.target.value));let v=l.getAttribute("tc-greenhouse-paginate")==="true";v?N():B();let i=Number(l.getAttribute("tc-greenhouse-results-per-page"))||5,g=l.querySelector('[tc-greenhouse-element="loader"]'),H=l.parentElement,S=l.style.display;l.style.display="none",g&&H.appendChild(g);let C=await O();if(g&&H.removeChild(g),C instanceof Error)return j(C.message);l.style.display=S,F();function j(e){l.innerHTML="",e==="No jobs found"?b&&l.appendChild(b):L&&l.appendChild(L),l.style.display=S}function y(){if(!E)return;x();let e=[];u.forEach(t=>{let a=E.cloneNode(!0);D.forEach(r=>{a.querySelectorAll(`[tc-greenhouse-element="${r}"]`).forEach(n=>{r==="location"?n.innerHTML=t.location.name:r==="department"?(console.log(t.departments),n.innerHTML=t.departments[0]?.name):r==="link"?n.setAttribute("href",t.absolute_url||"#"):r==="content"||(n.innerHTML=t[r])})}),e.push(a)}),m.innerHTML="",m?.append(...e)}function M(){s&&(v?u=s.slice((o-1)*i,o*i):u.length?u=s.slice(0,i*o):u=s.slice((o-1)*i,o*i),y())}function q(e){c&&(e.trim()?(f.length||(f=s),s=f.filter(t=>t.title.trim().toLowerCase().includes(e.trim().toLowerCase()))):(s=f,f=[]),M())}function B(){l?.querySelector('[tc-greenhouse-element="load-more"]')?.addEventListener("click",k)}function k(){if(o<Math.ceil(s.length/i)){o++;let e=s.slice((o-1)*i,o*i);u=u.concat(e),y()}}function N(){let e=document.getElementsByClassName("w-pagination-next")[0],t=document.getElementsByClassName("w-pagination-previous")[0];e?.addEventListener("click",P),t?.addEventListener("click",_)}function x(){if(v){let e=document.getElementsByClassName("w-pagination-next")[0],t=document.getElementsByClassName("w-pagination-previous")[0];if(!e||!t)return;o===1?(t.style.display="none",e.style.display="inline-block"):o===Math.ceil(s.length/i)?(e.style.display="none",t.style.display="inline-block"):s?.length<=i?(e.style.display="none",t.style.display="none"):(e.style.display="inline-block",t.style.display="inline-block")}else{let e=l?.querySelector('[tc-greenhouse-element="load-more"]');if(!e)return;o===Math.ceil(s.length/i)||s?.length<=i?e.style.display="none":e.style.display="inline-block"}}function _(){o>1&&(o--,u=s.slice((o-1)*i,o*i),y()),m?.scrollIntoView({behavior:"smooth"})}function P(){o<Math.ceil(s.length/i)&&(o++,u=s.slice((o-1)*i,o*i),y()),m?.scrollIntoView({behavior:"smooth"})}function F(){let e=d.map(a=>a.name);if(!c)return;c.forEach(a=>{let r=d[0].options.map(w=>w),n=d[1].options.map(w=>w),p=a.departments[0].name,h=a.location.name;r.includes(p)||d[0].options.push(a.departments[0].name),n.includes(h)||d[1].options.push(a.location.name)});let t=l?.querySelectorAll("[tc-greenhouse-filter]");t?.length&&t.forEach(a=>{let r=a.getAttribute("tc-greenhouse-filter");if(e.includes(r)){let n=d.find(p=>p.name===r)?.options;n?.length&&n.forEach(p=>{let h=document.createElement("option");h.value=p,h.textContent=p,a.appendChild(h)})}a.onchange=n=>{I(n)}})}function I(e){if(!c)return;let t=document.querySelector('[tc-greenhouse-filter="location"]'),a=document.querySelector('[tc-greenhouse-filter="department"]'),r=[];t?.value&&a?.value&&(t.value==="All Locations"&&a.value==="All Departments"?r=c:t.value==="All Locations"?c.forEach(n=>{n.departments[0].name===a.value&&r.push(n)}):a.value==="All Departments"?c.forEach(n=>{n.location.name===t.value&&r.push(n)}):c.forEach(n=>{n.departments[0].name===a.value&&n.location.name===t.value&&r.push(n)})),s=r,o=1,M()}async function O(){let e=[];try{let t=l.getAttribute("tc-greenhouse-board-id");if(!t)throw new Error("Board id not found");let a=l.getAttribute("tc-greenhouse-content")==="true",r=await fetch(`https://boards-api.greenhouse.io/v1/boards/${t}/jobs?content=${!0}`,{method:"GET"}).then(n=>n.json());if(!r.jobs)throw new Error("No jobs found");e=r.jobs}catch(t){return t}c=e,s=e,M()}};window.Webflow||(window.Webflow=[]);window.onload=()=>{A()};})();
